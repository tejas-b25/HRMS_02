<div class="helpdesk-container">
  <!-- Top Section -->
  <div class="top-bar">
    <div class="tab-toggle">
      <button [class.active]="activeTab === 'active'" (click)="switchTab('active')">Active</button>
      <button [class.active]="activeTab === 'closed'" (click)="switchTab('closed')">Closed</button>
    </div>
    <button class="new-request-btn" (click)="openForm()">+ New Request</button>
  </div>
  <!-- Form Section -->
  <div *ngIf="showForm" class="form-container">
    <h3>New Helpdesk Request</h3>
    <form (ngSubmit)="submitRequest()">
      <div class="form-group">
        <label>Category</label>
        <select [(ngModel)]="newRequest.category" name="category">
          <option value="">Select Category</option>
          <option>Employee Information</option>
          <option>Income Tax</option>
          <option>Loans</option>
          <option>Others</option>
          <option>Payslip</option>
        </select>
      </div>           
      <div class="form-group">
        <label>Subject</label>
        <input type="text" [(ngModel)]="newRequest.subject" name="subject" />
      </div>
                  
      <div class="form-group">
        <label>Description</label>
        <textarea [(ngModel)]="newRequest.description" name="description"></textarea>
      </div>
      <div class="form-group">
        <label>Priority</label>
        <select [(ngModel)]="newRequest.priority" name="priority">
          <option value="">Select Priority</option>
          <option>Low</option>
          <option>Medium</option>
          <option>High</option>
        </select>  
      </div>
      <div class="button-row">
        <button type="submit" class="submit-btn">Submit</button>
        <button type="button" class="cancel-btn" (click)="cancelForm()">Cancel</button>
      </div>
    </form>
  </div>          
  <!-- Active Section --> 
  <div *ngIf="!showForm && activeTab === 'active'" class="content-box">
    <ng-container *ngIf="activeItems.length; else noActive">
      <div *ngFor="let item of activeItems; let i = index" class="request-card">
        <div class="card-header">
          <h4>{{ item.subject }}</h4>
          <span class="priori`ty-tag" [ngClass]="item.priority.toLowerCase()">{{ item.priority }}</span>
        </div>
        <p><strong>Category:</strong> {{ item.category }}</p>
        <p>{{ item.description }}</p>
        <button class="close-btn" (click)="closeRequest(i)">Close</button>
      </div>
    </ng-container>
    <ng-template #noActive>
      <div class="empty-state">
        <img src="https://cdn-icons-png.flaticon.com/512/7486/7486786.png" width="90" />
        <p>No helpdesk items</p>
      </div>
    </ng-template>
  </div>        
  <!-- Closed Section -->
  <div *ngIf="!showForm && activeTab === 'closed'" class="content-box">
    <ng-container *ngIf="closedItems.length; else noClosed">
      <div *ngFor="let item of closedItems" class="request-card closed">
        <div class="card-header">
          <h4>{{ item.subject }}</h4>
          <span class="priority-tag closed">Closed</span>
        </div>
        <p><strong>Category:</strong> {{ item.category }}</p>
        <p>{{ item.description }}</p>
      </div>
    </ng-container>
    <ng-template #noClosed>
      <div class="empty-state">
   <img src="https://linckia.cdn.greythr.com/assets/review-list-empty.svg" alt="">
                       
        <p>No helpdesk items</p>
      </div>
    </ng-template>
  </div>  
</div>
<footer>
    <p>v6.3.0-prod-1490 | Privacy Policy | Terms Of Service</p>
</footer>